## 1. 「今週の予定」をシステム日時と連動させる

### 仕様整理

- 基準日は**今日**。
- 「今週の予定」は「今日を含む 7 日間」を表示。
- 右端に「▶ 次の 7 日」「◀ 前の 7 日」みたいなナビで前後の週へ移動できる。
- フィルタ（すべて / 転職活動 / 成長ログ）は現状のまま、有効範囲を「表示中の 7 日間」に限定。

### 実装タスク

- [x] `baseDate` state を追加（日付のみ、時刻は切り捨て）
- [x] `baseDate` から `day0〜day6` を算出するヘルパー関数作成
- [x] 「◀ / ▶」ボタンで `baseDate ± 7日` するハンドラ実装
- [x] フロント側でのフィルタ対象を「`start_at` が baseDate〜baseDate+6 日まで」に変更
- [x] 将来 Google カレンダー同期を入れても同じロジックで動くよう、クエリ層はなるべく 1 か所に集約

---

## 2. 応募の社名を編集可能にする

### 仕様整理

- 応募詳細モーダル内で**社名を編集**できる。
- 変更は `applications.company_name` に保存。
- 変更後は一覧・カード・今週の予定など**すべての表示が更新された社名を使う**。

### 実装タスク

- [x] DB：`applications` テーブルの `company_name` に特別な制約がないことを確認（PK/unique になってないか）
- [x] API / Supabase クライアント：`updateApplication` 的な更新メソッドに `company_name` を含める
- [x] 応募詳細モーダル

  - [x] 社名表示を `Text -> TextField + 編集アイコン` に変更
  - [x] 編集 → 保存の UI（インライン or 「編集」ボタン → フォーム）の決定
  - [x] 保存時に Supabase へ更新を投げる
  - [x] 保存成功時にローカルの状態も更新して即反映

- [x] バリデーション

  - [x] 1 文字以上・100 文字以内くらいの簡易チェック

---

## 3. 応募まわりを本格的に作り込む

### 3-1. 応募モデルの見直し

- [ ] 現状の `applications`／`application_events`／`growth_logs` のスキーマを図にする（ER 図 or Mermaid）
- [ ] 必要な追加項目を洗い出し
      例）

  - [ ] 応募種別（ダイレクト / エージェント / リファラル…）
  - [ ] 応募のアーカイブフラグ（選考終了・辞退など）

- [ ] 必要に応じて、テーブル追加・カラム追加のマイグレーション SQL を用意して Supabase に反映

### 3-2. 応募詳細画面の情報設計

- [ ] 「イベントタイムライン」を**1 本の時系列**として整理（面談・オファー・選考結果など）
- [ ] 「次のイベント」は `application_events` から自動計算する方針にする
- [ ] メモ欄を「応募全体のメモ」と「各イベントのメモ」で分けるか決める
- [ ] ステージ・状況・こっちボール／相手ボールの定義を文章で決めておく

### 3-3. 一覧画面（テーブルビュー）の改善

- [ ] カラム構成の見直し（本当に見たい指標を優先）

  - 会社 / ポジション
  - ステージ
  - 状況
  - 次の予定（日時 + 種別）
  - 最終更新日

- [ ] ソート機能の確認・強化

  - [ ] 「直近の予定順」
  - [ ] 「ステージ順」
  - [ ] 「こっちボール優先」

- [ ] レスポンシブ対応（スマホでは重要情報だけを残すレイアウト）

### 3-4. 今後の拡張を見越した設計メモ（軽くで OK）

- [ ] 将来の「AI キャリア OS ナビ」がどのデータを参照するか、ざっくり列挙しておく
      （プロフィール / applications / growth_logs / events あたり）
